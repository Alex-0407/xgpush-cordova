!function e(t,n,r){function s(o,c){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!c&&u)return u(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var h=n[o]={exports:{}};t[o][0].call(h.exports,function(e){var n=t[o][1][e];return s(n?n:e)},h,h.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(e,t,n){"use strict";function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(){}var i="function"!=typeof Object.create?"~":!1;s.prototype._events=void 0,s.prototype.listeners=function(e,t){var n=i?i+e:e,r=this._events&&this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var s=0,o=r.length,c=new Array(o);o>s;s++)c[s]=r[s].fn;return c},s.prototype.emit=function(e,t,n,r,s,o){var c=i?i+e:e;if(!this._events||!this._events[c])return!1;var u,f,h=this._events[c],v=arguments.length;if("function"==typeof h.fn){switch(h.once&&this.removeListener(e,h.fn,void 0,!0),v){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,t),!0;case 3:return h.fn.call(h.context,t,n),!0;case 4:return h.fn.call(h.context,t,n,r),!0;case 5:return h.fn.call(h.context,t,n,r,s),!0;case 6:return h.fn.call(h.context,t,n,r,s,o),!0}for(f=1,u=new Array(v-1);v>f;f++)u[f-1]=arguments[f];h.fn.apply(h.context,u)}else{var a,p=h.length;for(f=0;p>f;f++)switch(h[f].once&&this.removeListener(e,h[f].fn,void 0,!0),v){case 1:h[f].fn.call(h[f].context);break;case 2:h[f].fn.call(h[f].context,t);break;case 3:h[f].fn.call(h[f].context,t,n);break;default:if(!u)for(a=1,u=new Array(v-1);v>a;a++)u[a-1]=arguments[a];h[f].fn.apply(h[f].context,u)}}return!0},s.prototype.on=function(e,t,n){var s=new r(t,n||this),o=i?i+e:e;return this._events||(this._events=i?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],s]:this._events[o].push(s):this._events[o]=s,this},s.prototype.once=function(e,t,n){var s=new r(t,n||this,!0),o=i?i+e:e;return this._events||(this._events=i?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],s]:this._events[o].push(s):this._events[o]=s,this},s.prototype.removeListener=function(e,t,n,r){var s=i?i+e:e;if(!this._events||!this._events[s])return this;var o=this._events[s],c=[];if(t)if(o.fn)(o.fn!==t||r&&!o.once||n&&o.context!==n)&&c.push(o);else for(var u=0,f=o.length;f>u;u++)(o[u].fn!==t||r&&!o[u].once||n&&o[u].context!==n)&&c.push(o[u]);return c.length?this._events[s]=1===c.length?c[0]:c:delete this._events[s],this},s.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[i?i+e:e]:this._events=i?{}:Object.create(null),this):this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=i,"undefined"!=typeof t&&(t.exports=s)},{}],2:[function(e,t,n){function r(e){s.call(this),this.exec=e,this.registerPush(),this.registerReceiver(this.eventSuccess.bind(this),this.eventError.bind(this))}var s=e("eventemitter3");r.prototype=new s,r.SERVICE="XGPush",r.ACTION_REGISTER_PUSH="registerpush",r.ACTION_UNREGISTER_PUSH="unregisterpush",r.ACTION_ADD_LISTENER="addlistener",r.prototype.eventSuccess=function(e){console.log("receive message:",e),this.emit("textmessage",e)},r.prototype.eventError=function(e){console.log("receive error:",e),this.emit("error",e)},r.prototype.registerReceiver=function(e,t){var n=this.exec;n(e,t,r.SERVICE,r.ACTION_ADD_LISTENER,[])},r.prototype.registerPush=function(e){var t=this.exec;return new Promise(function(n,s){t(n,s,r.SERVICE,r.ACTION_REGISTER_PUSH,[e])})},r.prototype.unregisterPush=function(){var e=this.exec;return new Promise(function(t,n){e(t,n,r.SERVICE,r.ACTION_UNREGISTER_PUSH,[])})},t.exports=r,window._XGPush=r},{eventemitter3:1}]},{},[2]);
var XGPush = window._XGPush;
delete window._XGPush;
module.exports = new XGPush(require('cordova/exec'));
